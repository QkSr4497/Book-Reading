<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{{userData.userType}} - Notes page</title>
    {{> kid_head}}
</head>

<body>
  <div class="navigation-style">
  {{> kid_sideNav}}

    <div id="main">
    {{> kid_topNav}}

 <div class="notes-style">
      <h1 class="lang" key="myNotes"> 📝התרשמויות ומחשבות שלי </h1>
      <button type="button" name="button" id="add-note-btn" class="lang" key="addNote" onclick="document.getElementById('newnote').style.display='block'">
        מחשבה חדשה</button>
        <div class="notesContainer">
          {{#each notesData.getNoteData}}     
             <button class="collapsible"><span class="arrow"><i class='fas fa-angle-down'></i>&nbsp;&nbsp;&nbsp;</span>
               <span>{{title}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span >{{moment noteDate format="DD/MM/YYYY"}}</span>
             </button>
              <div class="content">              
                <br>
                <p class="noteContent">{{content}}</p>
                <br>
                <img class="noteImage" src={{notePic}} alt="">
                <br>
                <button style="font-size:24px" class="updateNote" name="{{noteID}}" 
                data-id="{{noteID}}" 
                data-title="{{title}}"
                data-content="{{content}}"
                onclick="document.getElementById('updatenote').style.display='block'"><i class="fa fa-edit"></i></button>
                <button style="font-size:24px" class="deleteNote" name="{{noteID}}" data-id="{{noteID}}"><i class="fa fa-trash"></i></button>
              </div>   
          {{/each}}
            {{#each notesData.getNoteAboutBook}}     
             <button class="collapsible"><span class="arrow"><i class='fas fa-angle-down'></i>&nbsp;&nbsp;&nbsp;</span>
               <span>{{title}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span >{{moment noteDate format="DD/MM/YYYY"}}</span>
             </button>
              <div class="content">
                <p>{{bookName}}</p>
                <br>
                <p>{{content}}</p>
                <br>
                <img src={{notePic}} alt="">
                <br>
                <button style="font-size:24px" class="updateNote" name="{{noteID}}" 
                data-id="{{noteID}}" 
                data-title="{{title}}"
                data-bookID="{{bookID}}"
                data-bookName="{{bookName}}"
                data-content="{{content}}"
                data-content="{{notePic}}"
                onclick="document.getElementById('updatenote').style.display='block'"><i class="fa fa-edit"></i></button>
                <button style="font-size:24px" class="deleteNote" name="{{noteID}}" data-id="{{noteID}}"><i class="fa fa-trash"></i></button>
              </div>   
          {{/each}}
        </div>  
      </div>


      <div class="modal-style">
      <div id="newnote" class="modal">
      <form class="modal-content animate" method="POST" action="/kid/notes/add" enctype="multipart/form-data">
        <div class="container">
          <h3 class="lang" key="newNote">✍🏻מחשבה חדשה </h3>
          <br>
          <hr>
          <label for="title" class="lang" key="noteTitle"><b>כותרת</b></label>
          <input type="text"  name="title" required value="" autocomplete="off">
          <label for="title" class="lang" key="noteTitle" ><b>ספר</b></label>
         
          <select id="bookSelect" onchange="getSelected()">
            <option value="" selected="selected">none</option>
             {{#each notesData.getbBooksForNote}}  
             <option  value="{{bookID}}"> {{bookName}}</option>
             {{/each }}  
          </select>
          <input id="bookName" type="text" name="bookID" style="display: none">

          <label for="content"><b>תוכן </b></label>
          <textarea name="content" rows="8" cols="100" required value=""></textarea>

        <div class="imgcontainer">       
          {{!-- <img id="modalNotePic" src="{{notePic}}" alt="notePic" class="profilePic">
          <br>
          <label class="lang" key="notePic" for="title"><b></b>ציור שלי</b> <a href="#" class="close"></a></label>
          <li id="liClose" class="ele" style="visibility:hidden;">
            <div class="close spin large"><b></b><b></b><b></b><b></b></div>
          </li>
          <input class="imgPrevInput" type="file" id="newNotePicInput" name="notePic" class="section" accept="image/*" alt="your image" />          --}}
        </div>
  <input value=""   type="file" id="group-image" name="notePic" placeholder="Add a title image" accept="image/gif, image/jpeg, image/jpg, image/svg+xml, image/svg, image/png, image/x-png, image/pjpeg">
          <button type="submit" name="button" class="okbtn">הוסף</button>
          <button type="button" onclick="document.getElementById('newnote').style.display='none'" class="cancelbtn">ביטול</button>
         
         </div>
       </form>
     </div>
   </div>

      <div class="modal-style">
      <div id="updatenote" class="modal">
      <form class="modal-content animate" method="POST" action="/kid/notes/edit">
        <div class="container">
          <h3 key="updateNote"> ✍🏻עדכן סיכום</h3>
          <br>
          <hr>
          <input id="updateNoteID" type="text"  name="noteID" value="{{noteID}}" style="display: block">
          
          <label for="title"><b>כותרת</b></label>
          <input id="updateTitle" type="text"  name="title" required value="">

          <label for="title"><b>תוכן</b></label>
          <textarea id= "updateContent" name="content" rows="8" cols="100"   required value=""></textarea>
         
          <label for="bookName"><b>ספר</b></label>
          <input id="updateBookName" type="text"  name="bookName" required value="">
          
          <img src="" alt="" id="updateNotePic">

          <label for="file"><b>ציורים שלך 🎨</b></label>
          <input  id="updatePictures" value="" type="file" id="group-image" name="img" placeholder="Add a title image" accept="image/gif, image/jpeg, image/jpg, image/svg+xml, image/svg, image/png, image/x-png, image/pjpeg">
          
          <button type="submit" name="button" class="okbtn">עדכן</button>
          <button type="button" onclick="document.getElementById('updatenote').style.display='none'" class="cancelbtn">ביטול</button>
          
         </div>
       </form>
     </div>
   </div>

       
  </div>
</div>




    <script>
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    }
    </script>

    <script>
      var langPreferred = {{{ json userData.langPreferred }}};  // global variable which is used in language.js file
    </script>
    
  

  {{> kid_footer}}

  <!--====== Javascripts & Jquery ======-->
 <script src="/js/kid/kid-notes-scripts.js"></script>
</body>

</html>